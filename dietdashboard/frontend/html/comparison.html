{% extends "base.html" %} {% block head %}
<title>Price comparison between locations</title>
<style>
  body {
    font-family: system-ui;
    background-color: #f9f9f9;
    display: flex;
    justify-content: center;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
  }
  th,
  td {
    border: 1px solid black;
    padding: 5px;
    text-align: left;
  }
  th {
    background-color: #f0f0f0;
  }
</style>
{% endblock %} {% block content %}
<div>
  <table>
    <thead>
      <tr>
        <th>Item</th>
        {% for location_name in location_names %}
        <th>{{ location_name }}</th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      {% for row in rows %}
      <tr>
        <!-- product / food name -->
        <td>{{ row[0] }}</td>
        <!-- prices for each location -->
        {% for loc in location_names %}{% set entry = row[loop.index] %}
        <td><a href="https://prices.openfoodfacts.org/prices/{{ entry.id }}" target="_blank">{{ entry.price }}</a></td>
        {% endfor %}
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
